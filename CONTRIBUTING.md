# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢ä½ å¯¹ Svton é¡¹ç›®çš„è´¡çŒ®ï¼æœ¬æ–‡æ¡£æä¾›äº†å¼€å‘å’Œå‘å¸ƒæµç¨‹çš„æŒ‡å—ã€‚

## å¼€å‘æµç¨‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…ä¾èµ–
pnpm install

# æ„å»ºæ‰€æœ‰åŒ…
pnpm build

# å¼€å‘æ¨¡å¼
pnpm dev
```

### 2. ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ç¼–å†™ä»£ç 
- éµå¾ª ESLint è§„åˆ™
- æäº¤å‰ç¡®ä¿ä»£ç å¯ä»¥æ­£å¸¸ç¼–è¯‘ï¼Œæ—  TypeScript é”™è¯¯
- ä½¿ç”¨è¯­ä¹‰åŒ–çš„ commit messageï¼ˆéµå¾ª Conventional Commitsï¼‰

### 3. æäº¤ä»£ç 

```bash
# æäº¤ä»£ç ï¼ˆæ’é™¤ .npmrc æ–‡ä»¶ï¼‰
git add .
git reset .npmrc
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push
```

**é‡è¦æç¤º**ï¼šæäº¤ä»£ç æ—¶å¿…é¡»æ’é™¤ `.npmrc` æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å«ç§æœ‰é…ç½®ä¿¡æ¯ã€‚

## å‘å¸ƒæµç¨‹

### ä½¿ç”¨ Changesets å‘å¸ƒ NPM åŒ…

æœ¬é¡¹ç›®ä½¿ç”¨ [Changesets](https://github.com/changesets/changesets) ç®¡ç†ç‰ˆæœ¬å’Œå‘å¸ƒã€‚

#### 1. åˆ›å»º Changeset

å½“ä½ å®Œæˆä¸€ä¸ªåŠŸèƒ½æˆ–ä¿®å¤åï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ª changeset æ¥æè¿°å˜æ›´ï¼š

```bash
pnpm changeset
```

æŒ‰ç…§æç¤ºæ“ä½œï¼š
1. é€‰æ‹©éœ€è¦å‘å¸ƒçš„åŒ…ï¼ˆç©ºæ ¼é€‰æ‹©ï¼Œå›è½¦ç¡®è®¤ï¼‰
2. é€‰æ‹©ç‰ˆæœ¬ç±»å‹ï¼š
   - `patch` - ä¿®å¤ bugï¼ˆ0.0.xï¼‰
   - `minor` - æ–°å¢åŠŸèƒ½ï¼ˆ0.x.0ï¼‰
   - `major` - ç ´åæ€§å˜æ›´ï¼ˆx.0.0ï¼‰
3. è¾“å…¥å˜æ›´æè¿°

è¿™ä¼šåœ¨ `.changeset` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª markdown æ–‡ä»¶ã€‚

#### 2. æ›´æ–°ç‰ˆæœ¬å·

```bash
pnpm pub:version
```

è¿™ä¸ªå‘½ä»¤ä¼šï¼š
- è¯»å–æ‰€æœ‰ changeset æ–‡ä»¶
- æ›´æ–°ç›¸å…³åŒ…çš„ç‰ˆæœ¬å·
- æ›´æ–° CHANGELOG.md
- åˆ é™¤å·²å¤„ç†çš„ changeset æ–‡ä»¶

#### 3. å‘å¸ƒåˆ° NPM

```bash
pnpm pub
```

è¿™ä¸ªå‘½ä»¤ä¼šï¼š
- æ„å»ºæ‰€æœ‰åŒ…
- å‘å¸ƒåˆ° NPM registry
- åˆ›å»º git tag

#### å®Œæ•´å‘å¸ƒæµç¨‹ç¤ºä¾‹

```bash
# 1. å¼€å‘å®Œæˆåï¼Œåˆ›å»º changeset
pnpm changeset

# 2. æäº¤ changeset æ–‡ä»¶
git add .changeset
git commit -m "chore: add changeset for new feature"
git push

# 3. æ›´æ–°ç‰ˆæœ¬å·
pnpm pub:version

# 4. æäº¤ç‰ˆæœ¬æ›´æ–°ï¼ˆæ’é™¤ .npmrcï¼‰
git add .
git reset .npmrc
git commit -m "chore: version packages"
git push

# 5. å‘å¸ƒåˆ° NPM
pnpm pub

# 6. æ¨é€ tags
git push --tags
```

### å‘å¸ƒæ£€æŸ¥æ¸…å•

å‘å¸ƒå‰è¯·ç¡®ä¿ï¼š

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ä»£ç å¯ä»¥æ­£å¸¸ç¼–è¯‘ï¼Œæ—  TypeScript é”™è¯¯
- [ ] å·²åˆ›å»º changeset æè¿°å˜æ›´
- [ ] å·²æ›´æ–°ç›¸å…³æ–‡æ¡£
- [ ] å·²æ’é™¤ `.npmrc` æ–‡ä»¶
- [ ] CHANGELOG.md å·²æ­£ç¡®æ›´æ–°

## åŒ…å¼€å‘è§„èŒƒ

### åˆ›å»ºæ–°åŒ…

1. åœ¨ `packages/` ç›®å½•ä¸‹åˆ›å»ºæ–°åŒ…ç›®å½•
2. æ·»åŠ  `package.json`ã€`tsconfig.json`ã€`tsup.config.ts`
3. åœ¨æ ¹ç›®å½• `pnpm-workspace.yaml` ä¸­ç¡®è®¤åŒ…å«è¯¥ç›®å½•
4. è¿è¡Œ `pnpm install` å®‰è£…ä¾èµ–

### åŒ…å‘½åè§„èŒƒ

- å…¬å…±åŒ…ï¼š`@svton/package-name`
- ç§æœ‰åŒ…ï¼š`@{org}/package-name`

### åŒ…ç»“æ„

```
packages/my-package/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts          # ä¸»å…¥å£
â”‚   â””â”€â”€ ...
â”œâ”€â”€ dist/                 # æ„å»ºè¾“å‡ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tsup.config.ts        # æ„å»ºé…ç½®
â”œâ”€â”€ README.md
â””â”€â”€ CHANGELOG.md
```

## æ¨¡æ¿å¼€å‘è§„èŒƒ

### æ¨¡æ¿æ–‡ä»¶å‘½å

- æ™®é€šæ–‡ä»¶ï¼šç›´æ¥ä½¿ç”¨æ–‡ä»¶åï¼ˆå¦‚ `app.module.ts`ï¼‰
- æ¨¡æ¿æ–‡ä»¶ï¼šä½¿ç”¨ `.tpl` åç¼€ï¼ˆå¦‚ `package.json.tpl`ï¼‰

### æ¨¡æ¿å˜é‡

æ¨¡æ¿æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å˜é‡ï¼š

- `{{projectName}}` - é¡¹ç›®åç§°
- `{{description}}` - é¡¹ç›®æè¿°
- `{{author}}` - ä½œè€…
- `{{org}}` - ç»„ç»‡åç§°

## æ–‡æ¡£

### æ–‡æ¡£ç»“æ„

```
docs/
â”œâ”€â”€ .vitepress/           # VitePress é…ç½®
â”œâ”€â”€ guide/                # ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ packages/             # åŒ…æ–‡æ¡£
â”œâ”€â”€ architecture/         # æ¶æ„æ–‡æ¡£
â””â”€â”€ index.md              # é¦–é¡µ
```

### æ›´æ–°æ–‡æ¡£

```bash
# å¼€å‘æ¨¡å¼
cd docs
pnpm dev

# æ„å»ºæ–‡æ¡£
pnpm build
```

## é—®é¢˜åé¦ˆ

å¦‚æœä½ å‘ç° bug æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·ï¼š

1. åœ¨ GitHub Issues ä¸­æœç´¢æ˜¯å¦å·²æœ‰ç›¸å…³é—®é¢˜
2. å¦‚æœæ²¡æœ‰ï¼Œåˆ›å»ºæ–° issue å¹¶æä¾›è¯¦ç»†ä¿¡æ¯ï¼š
   - é—®é¢˜æè¿°
   - å¤ç°æ­¥éª¤
   - æœŸæœ›è¡Œä¸º
   - å®é™…è¡Œä¸º
   - ç¯å¢ƒä¿¡æ¯ï¼ˆNode ç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿç­‰ï¼‰

## è·å–å¸®åŠ©

- ğŸ“– [æ–‡æ¡£](https://751848178.github.io/svton)
- ğŸ’¬ [GitHub Discussions](https://github.com/751848178/svton/discussions)
- ğŸ› [GitHub Issues](https://github.com/751848178/svton/issues)

## è®¸å¯è¯

é€šè¿‡è´¡çŒ®ä»£ç ï¼Œä½ åŒæ„ä½ çš„è´¡çŒ®å°†åœ¨ MIT è®¸å¯è¯ä¸‹å‘å¸ƒã€‚
