---
name: diagram-mindmap-generator
description: 思维导图生成器 - 将系统架构、功能模块、知识体系转换为 Mermaid 思维导图
triggers:
  - 思维导图
  - mindmap
  - 架构图
  - 系统架构
  - 功能模块
  - 模块划分
  - 技术选型
  - 梳理
  - 整理
resources:
  - type: documentation
    url: https://mermaid.js.org/
    description: Mermaid 官方文档
---

# 思维导图生成器

## 目标

帮助用户将复杂的系统架构、功能模块、知识体系等转换为层次清晰的思维导图。输出标准的 Mermaid Mindmap 格式，便于快速理解整体结构和关系。

## 适用场景

- **系统架构梳理**：微服务架构、前后端分层、技术栈组成
- **功能模块拆解**：产品功能树、业务模块划分、API 接口分类
- **技术选型对比**：框架对比、方案评估、优缺点分析
- **知识体系整理**：学习路线、技能树、文档目录
- **项目规划**：任务分解、里程碑规划、团队分工
- **问题分析**：根因分析、影响范围、解决方案

## 输出规范

### Mermaid Mindmap 基础语法

```mermaid
mindmap
  root((中心主题))
    一级节点1
      二级节点1-1
      二级节点1-2
        三级节点1-2-1
    一级节点2
      二级节点2-1
      二级节点2-2
    一级节点3
```

### 节点形状说明

- `((圆形))` - 根节点（中心主题）
- `(圆角矩形)` - 一级节点
- `[方形]` - 强调节点
- 普通文本 - 默认节点

### 层级规范

- **根节点**：整个系统/主题的名称
- **一级节点**：主要模块/分类（3-7 个为宜）
- **二级节点**：子模块/功能点（每个一级节点下 3-10 个）
- **三级节点**：具体实现/细节（按需添加，不超过 4 层）

## 分析步骤

### 1. 确定中心主题

从用户描述中提取核心主题：
- 系统名称（如「电商平台」）
- 功能模块（如「用户管理」）
- 技术领域（如「前端技术栈」）
- 问题描述（如「性能优化方案」）

### 2. 识别主要分类

按照合适的维度进行分类：
- **按功能**：用户模块、订单模块、支付模块
- **按层次**：前端、后端、数据库、基础设施
- **按角色**：管理员、普通用户、访客
- **按阶段**：需求分析、设计、开发、测试、部署
- **按优先级**：P0、P1、P2

### 3. 展开子节点

为每个分类添加具体内容：
- 功能点、技术组件、实现方式
- 保持同级节点的粒度一致
- 控制每层的节点数量（3-10 个）

### 4. 优化结构

- **平衡性**：各分支的深度和广度尽量均衡
- **完整性**：确保没有遗漏重要内容
- **简洁性**：合并相似节点，删除冗余信息
- **可读性**：节点命名简洁明确

## 最佳实践

### 命名规范

- **简洁明确**：每个节点 2-6 个字
- **统一格式**：同级节点使用相同的命名风格
- **避免重复**：不同节点不要使用相同名称
- **使用名词**：优先使用名词或名词短语

### 层级控制

- **不超过 4 层**：过深会影响可读性
- **一级节点 3-7 个**：太少不够全面，太多难以记忆
- **二级节点 3-10 个**：根据实际情况调整
- **三级节点按需**：只在必要时添加

### 分类原则

- **MECE 原则**：相互独立，完全穷尽
- **同一维度**：同级节点使用相同的分类标准
- **重要性排序**：将重要的节点放在前面
- **逻辑顺序**：按照时间、流程、依赖等逻辑排序

## 常见模式

### 模式 1：系统架构图

```mermaid
mindmap
  root((电商系统))
    前端层
      Web管理后台
        React
        Ant Design
        TypeScript
      移动端App
        React Native
        原生模块
      小程序
        微信小程序
        支付宝小程序
    后端层
      API网关
        路由转发
        认证鉴权
        限流熔断
      业务服务
        用户服务
        商品服务
        订单服务
        支付服务
      基础服务
        认证服务
        消息服务
        文件服务
    数据层
      关系数据库
        MySQL主从
        分库分表
      缓存
        Redis集群
        本地缓存
      消息队列
        RabbitMQ
        Kafka
    基础设施
      容器编排
        Kubernetes
        Docker
      监控告警
        Prometheus
        Grafana
      日志系统
        ELK
        Loki
```

### 模式 2：功能模块树

```mermaid
mindmap
  root((用户管理模块))
    账号管理
      注册
        手机号注册
        邮箱注册
        第三方登录
      登录
        密码登录
        验证码登录
        扫码登录
      注销
        软删除
        数据清理
    个人信息
      基础信息
        昵称
        头像
        性别
        生日
      联系方式
        手机号
        邮箱
        地址
      实名认证
        身份证
        人脸识别
    权限管理
      角色管理
        管理员
        普通用户
        VIP用户
      权限配置
        菜单权限
        数据权限
        操作权限
    安全设置
      密码管理
        修改密码
        找回密码
      登录设备
        设备列表
        强制下线
      操作日志
        登录日志
        操作记录
```

### 模式 3：技术选型对比

```mermaid
mindmap
  root((前端框架选型))
    React
      优势
        生态丰富
        灵活度高
        社区活跃
        就业市场大
      劣势
        学习曲线陡
        需要额外状态管理
        配置复杂
      适用场景
        大型应用
        需要高度定制
        团队熟悉React
    Vue
      优势
        上手简单
        文档友好
        渐进式
        中文社区好
      劣势
        生态不如React
        大型项目经验少
        TypeScript支持弱
      适用场景
        中小型项目
        快速开发
        团队新手多
    Angular
      优势
        完整框架
        TypeScript原生
        企业级支持
        规范统一
      劣势
        学习成本高
        体积大
        灵活性差
        社区较小
      适用场景
        企业级应用
        长期维护项目
        大团队协作
```

### 模式 4：学习路线图

```mermaid
mindmap
  root((全栈开发学习路线))
    基础阶段
      HTML/CSS
        语义化标签
        Flex布局
        Grid布局
        响应式设计
      JavaScript
        ES6+语法
        异步编程
        DOM操作
        事件处理
      Git版本控制
        基础命令
        分支管理
        协作流程
    前端进阶
      框架学习
        React/Vue
        状态管理
        路由管理
      工程化
        Webpack
        Vite
        ESLint
        Prettier
      TypeScript
        类型系统
        泛型
        装饰器
    后端开发
      Node.js
        Express
        Koa
        NestJS
      数据库
        MySQL
        MongoDB
        Redis
      API设计
        RESTful
        GraphQL
        WebSocket
    运维部署
      Linux基础
        常用命令
        Shell脚本
      容器化
        Docker
        Docker Compose
      CI/CD
        GitHub Actions
        Jenkins
```

### 模式 5：问题分析图

```mermaid
mindmap
  root((系统响应慢))
    前端问题
      资源加载
        图片未压缩
        JS文件过大
        未使用CDN
      渲染性能
        重复渲染
        大列表未虚拟化
        动画卡顿
      网络请求
        请求过多
        未使用缓存
        串行请求
    后端问题
      数据库
        慢查询
        缺少索引
        连接池不足
      业务逻辑
        循环查询
        N+1问题
        计算密集
      缓存
        缓存未命中
        缓存雪崩
        缓存穿透
    基础设施
      服务器
        CPU占用高
        内存不足
        磁盘IO慢
      网络
        带宽不足
        跨地域访问
        DNS解析慢
      负载均衡
        分配不均
        健康检查失败
```

## 输出格式

每次生成思维导图时，按以下格式输出：

### 1. 导图概述
用 1-2 句话说明这个思维导图的主题和用途。

### 2. 结构说明
简要说明分类维度和层级设计思路。

### 3. Mermaid 代码
```mermaid
[完整的 Mermaid Mindmap 代码]
```

### 4. 关键节点解释
对 3-5 个重要节点进行补充说明。

### 5. 扩展建议（可选）
如果某些分支可以进一步展开，给出建议。

## 示例

### 示例 1：SaaS 平台架构

#### 导图概述
展示一个典型的多租户 SaaS 平台的整体架构，包括前端、后端、数据层和基础设施。

#### 结构说明
按照技术分层维度组织，从用户接触的前端到底层基础设施，每层展开 2-3 级细节。

#### Mermaid 代码

```mermaid
mindmap
  root((SaaS平台))
    前端应用
      管理后台
        租户管理
        用户管理
        数据看板
        系统配置
      客户端
        Web应用
        移动App
        桌面客户端
      营销页面
        官网
        落地页
        帮助中心
    后端服务
      核心服务
        租户服务
        认证授权
        计费服务
        通知服务
      业务服务
        按行业定制
        插件系统
        工作流引擎
      API网关
        路由转发
        限流熔断
        日志追踪
    数据存储
      业务数据
        MySQL
        PostgreSQL
      缓存层
        Redis
        Memcached
      文件存储
        对象存储
        CDN加速
      数据仓库
        ClickHouse
        数据分析
    基础设施
      容器平台
        Kubernetes
        服务网格
      监控体系
        指标监控
        日志分析
        链路追踪
        告警通知
      安全防护
        WAF
        DDoS防护
        数据加密
```

#### 关键节点解释

1. **租户服务**：多租户架构的核心，负责租户隔离、数据隔离、资源配额管理
2. **计费服务**：处理订阅、计量、账单、支付等，是 SaaS 商业模式的关键
3. **插件系统**：支持第三方扩展，提升平台灵活性和生态价值
4. **服务网格**：在 Kubernetes 之上提供服务间通信、安全、可观测性

#### 扩展建议
- 「业务服务」可以根据具体行业展开（如 CRM、ERP、项目管理等）
- 「监控体系」可以详细列出具体的工具选型（Prometheus、Grafana、Jaeger 等）

---

### 示例 2：移动应用功能树

#### 导图概述
一个社交类移动应用的完整功能模块划分，覆盖用户端和管理端。

#### 结构说明
按照功能模块维度组织，分为核心功能、辅助功能、管理功能三大类。

#### Mermaid 代码

```mermaid
mindmap
  root((社交App))
    核心功能
      动态
        发布动态
          文字
          图片
          视频
          位置
        浏览动态
          推荐流
          关注流
          话题流
        互动
          点赞
          评论
          转发
          收藏
      社交
        好友
          添加好友
          好友列表
          好友动态
        私信
          单聊
          群聊
          消息通知
        关注
          关注用户
          粉丝列表
          互相关注
      个人主页
        基本信息
          头像昵称
          个人简介
          认证标识
        内容展示
          我的动态
          我的收藏
          我的相册
    辅助功能
      搜索
        搜索用户
        搜索内容
        搜索话题
      发现
        热门推荐
        附近的人
        话题广场
      设置
        账号安全
        隐私设置
        通知设置
        通用设置
    管理功能
      内容审核
        文本审核
        图片审核
        视频审核
      用户管理
        用户列表
        封禁管理
        举报处理
      数据统计
        用户增长
        活跃度
        内容分析
```

#### 关键节点解释

1. **推荐流**：基于算法的个性化内容推荐，是提升用户活跃度的关键
2. **内容审核**：合规要求，需要机器审核 + 人工审核结合
3. **数据统计**：运营决策依据，需要实时和离线分析结合

---

### 示例 3：项目开发流程

#### 导图概述
软件项目从需求到上线的完整开发流程，包括各阶段的关键活动。

#### Mermaid 代码

```mermaid
mindmap
  root((项目开发流程))
    需求阶段
      需求收集
        用户访谈
        竞品分析
        数据分析
      需求分析
        功能清单
        优先级排序
        可行性评估
      需求评审
        产品评审
        技术评审
        资源评估
    设计阶段
      产品设计
        原型设计
        交互设计
        视觉设计
      技术设计
        架构设计
        数据库设计
        接口设计
      设计评审
        设计走查
        技术方案评审
    开发阶段
      环境准备
        开发环境
        测试环境
        代码仓库
      编码实现
        前端开发
        后端开发
        联调测试
      代码审查
        Code Review
        静态检查
        单元测试
    测试阶段
      功能测试
        冒烟测试
        集成测试
        回归测试
      性能测试
        压力测试
        负载测试
      安全测试
        漏洞扫描
        渗透测试
    发布阶段
      发布准备
        发布计划
        回滚方案
        监控准备
      灰度发布
        小流量验证
        逐步放量
        全量发布
      上线验证
        功能验证
        性能监控
        用户反馈
```

## 使用指南

### 如何请求生成思维导图

**方式 1：描述主题**
```
"帮我梳理一下微服务架构的组成部分"
```

**方式 2：提供大纲**
```
"根据这个功能列表生成思维导图：[粘贴列表]"
```

**方式 3：指定维度**
```
"按照技术栈、业务模块、部署架构三个维度展示系统架构"
```

### 如何优化已有思维导图

```
"这个思维导图太简单了，帮我展开二级节点"
"合并相似的节点，简化结构"
"按照重要性重新排序"
```

## 注意事项

1. **避免过度展开**：不是所有节点都需要展开到最细，保持合适的抽象层次
2. **保持平衡**：各分支的深度和广度尽量均衡，避免头重脚轻
3. **定期更新**：系统演进时及时更新思维导图，保持文档与实际一致
4. **配合其他图表**：思维导图适合展示结构，流程细节用流程图补充
5. **考虑受众**：给不同角色看的图，详细程度和侧重点应该不同

## Mermaid 渲染工具

生成的 Mermaid 代码可以在以下平台查看：
- GitHub/GitLab Markdown（原生支持）
- VS Code（安装 Mermaid 插件）
- 在线编辑器：https://mermaid.live
- 文档工具：VitePress、Docusaurus、MkDocs 等

## 进阶技巧

### 使用图标（需要工具支持）

```mermaid
mindmap
  root((系统))
    ::icon(fa fa-server)
    前端
      ::icon(fa fa-desktop)
    后端
      ::icon(fa fa-database)
```

### 控制节点样式

某些 Mermaid 渲染器支持自定义样式，但为了兼容性，建议使用默认样式。

### 导出为其他格式

- 使用 Mermaid CLI 导出为 PNG/SVG
- 使用在线工具导出为 PDF
- 集成到文档系统中自动渲染
